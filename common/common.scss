:root {
  --d-sidebar-admin-background: transparent;
  --header_background: transparent;
  --d-sidebar-background: transparent;
  --d-sidebar-active-background: rgba(255, 255, 255, 0.15);
  --background-color: rgb(6, 19, 28);
  --header-height: 4em;
  --blur-radius: 10px;
  --background-brightness: 15%;

  --bd-filter: blur(5px) brightness(50%);
  --bd-filter-background: blur(10px) brightness(20%);
}

body {
  background: {
    color: var(--background-color);
    image: url($bg-2x-jpg);
    image: image-set(
      url($bg-avif) type("image/avif") 1x,
      url($bg-2x-avif) type("image/avif") 2x,
      url($bg-jpg) type("image/jpeg") 1x,
      url($bg-2x-jpg) type("image/jpeg") 2x
    );
    size: cover;
  }

  @supports not (backdrop-filter: blur(10px)) {
    background-image: none;
  }

  &::before {
    content: "";
    height: 100vh;
    height: 100lvh;
    width: 100vw;
    width: 100lvw;
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
    backdrop-filter: var(--bd-filter-background);
    -webkit-backdrop-filter: var(--bd-filter-background);
  }
}

.sidebar-footer-container {
  &::before {
    visibility: hidden;
  }
}

#main-outlet {
  --1dvh: 1vh;
  @supports (height: 1dvh) {
    --1dvh: 1dvh;
  }
  position: sticky;
  height: calc(
    var(--composer-vh, var(--1dvh)) * 100 -
      calc(var(--main-outlet-offset, 0px) * 2 + 0.45em)
  );
  top: var(--main-outlet-offset);
  overflow-y: auto;
}

#main-outlet table {
  margin-left: 0;
}

@media (prefers-reduced-motion: no-preference) {
  .discourse-no-touch .powered-by-discourse:hover {
    background: linear-gradient(
      45deg,
      transparent,
      transparent,
      transparent,
      transparent,
      transparent,
      #d0232b,
      #f15d22,
      #fff9ae,
      #00a94f,
      #00aeef
    );
  }
}

.discourse-no-touch .powered-by-discourse:hover {
  filter: none;
}

.discourse-no-touch .powered-by-discourse span {
  background: transparent;
  backdrop-filter: var(--bd-filter);
}

.bg {
  height: calc(100% + calc(var(--blur-radius) * 2));
  width: calc(100% + calc(var(--blur-radius) * 2));
  filter: blur(var(--blur-radius)) brightness(var(--background-brightness));
  margin: calc(var(--blur-radius) * -2);
}

.clipped-container,
.bg-container {
  position: fixed;
  top: 0;
  left: 0;
  overflow: hidden;
}

.bg-container {
  z-index: -1;
}

.clipped-container {
  height: var(--header-height);
  z-index: 1;

  .clipped {
    position: initial;
  }
}

a {
  color: var(--tertiary);
  transition: filter 0.2s ease-in-out;

  &.category-name {
    color: var(--tertiary);
  }

  &:hover {
    filter: brightness(1.3);
  }
}

.notification.read {
  background-color: transparent;
}

.notification.unread {
  background-color: rgba(255, 255, 255, 0.15);
}

.select-kit-body,
.dropdown-menu,
.menu-panel,
.reply-area {
  background: transparent;
  backdrop-filter: var(--bd-filter);
}
