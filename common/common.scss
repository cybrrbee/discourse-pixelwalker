:root {
  --d-sidebar-admin-background: transparent;
  --header_background: transparent;
  --d-sidebar-background: transparent;
  --d-sidebar-active-background: rgba(255, 255, 255, 0.15);
  --background-color: rgb(6, 19, 28);
  --header-height: 4em;
  --blur-radius: 10px;
  --background-brightness: 15%;
}

body {
  background: {
    color: var(--background-color);
    image: url($bg-2x-jpg);
    image: image-set(
      url($bg-avif) type("image/avif") 1x,
      url($bg-2x-avif) type("image/avif") 2x,
      url($bg-jpg) type("image/jpeg") 1x,
      url($bg-2x-jpg) type("image/jpeg") 2x
    );
    size: cover;
  }

  &::before {
    content: "";
    height: 100vh;
    height: 100lvh;
    width: 100vw;
    width: 100lvw;
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
    backdrop-filter: blur(10px) brightness(20%);
    -webkit-backdrop-filter: blur(10px) brightness(20%);
  }
}

header {
  background: {
    color: var(--background-color);
    image: url($bg-2x-jpg);
    image: image-set(
      url($bg-avif) type("image/avif") 1x,
      url($bg-2x-avif) type("image/avif") 2x,
      url($bg-jpg) type("image/jpeg") 1x,
      url($bg-2x-jpg) type("image/jpeg") 2x
    );
    size: cover;
  }

  &::before {
    content: "";
    height: var(--header-height);
    width: 100vw;
    width: 100lvw;
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
    backdrop-filter: blur(10px) brightness(20%);
    -webkit-backdrop-filter: blur(10px) brightness(20%);
  }
}

@supports not (backdrop-filter: blur(10px)) {
  body,
  header {
    background-image: none;
  }
}

.sidebar-footer-container {
  &::before {
    visibility: hidden;
  }
}

.bg {
  height: calc(100% + calc(var(--blur-radius) * 2));
  width: calc(100% + calc(var(--blur-radius) * 2));
  filter: blur(var(--blur-radius)) brightness(var(--background-brightness));
  margin: calc(var(--blur-radius) * -2);
}

.clipped-container,
.bg-container {
  position: fixed;
  top: 0;
  left: 0;
  overflow: hidden;
}

.bg-container {
  z-index: -1;
}

.clipped-container {
  height: var(--header-height);
  z-index: 1;

  .clipped {
    position: initial;
  }
}

a {
  color: var(--tertiary);
  transition: filter 0.2s ease-in-out;

  &.category-name {
    color: var(--tertiary);
  }

  &:hover {
    filter: brightness(1.3);
  }
}

.notification.read {
  background-color: transparent;
}

.notification.unread {
  background-color: rgba(255, 255, 255, 0.15);
}

.select-kit-body,
.dropdown-menu,
.menu-panel,
.reply-area {
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(10px) !important;
}
